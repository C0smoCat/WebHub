## Оператор EXISTS

Оператор **EXISTS** проверяет, возвращает ли подзапрос какое-либо значение. Как правило, этот оператор используется для индикации того, что как минимум одна строка в таблице удовлетворяет некоторому условию. Поскольку возвращения набора строк не происходит, то подзапросы с подобным оператором выполняются довольно быстро.

Применение оператора имеет следующий формальный синтаксис:

```sql
WHERE [NOT] EXISTS (подзапрос)
```

Например, найдем все товары из таблицы Products, на которые есть заказы в таблице Orders:

```sql
SELECT * FROM Products
WHERE EXISTS 
(SELECT * FROM Orders WHERE Orders.ProductId = Products.Id)
```

![Оператор EXISTS в MySQL](https://metanit.com/sql/mysql/pics/6.5.png)

Если мы хотим узнать, наоброт, есть ли в таблице строки, которые НЕ удовлетворяют условию, то можно использовать операторы `NOT EXISTS`. Например, найдем все товары из таблицы Products, на которые не было заказов в таблице Orders:

```sql
SELECT * FROM Products
WHERE NOT EXISTS (SELECT * FROM Orders WHERE Products.Id = Orders.ProductId)
```

Стоит отметить, что для получения подобного результата можно было бы использовать и опеатор **IN**:

```sql
SELECT *
FROM Products
WHERE Id NOT IN (SELECT ProductId FROM Orders)
```

Но поскольку при применении EXISTS не происходит выборка строк, то его использование более оптимально и эффективно, чем использование оператора IN.


> Материал взят с сайта metanit.com