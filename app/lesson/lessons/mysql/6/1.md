# Встроенные функции

## Функции для работы со строками

Для работы со строка в MySQL определен ряд встроенных функций:

- **CONCAT**: объединяет строки. В качестве параметра принимает от 2-х и более строк, которые надо соединить:

- **CONCAT_WS**: также объединяет строки, но в качестве первого параметра принимает разделитель, который будет соединять строки:

- **LENGTH**: возвращает количество символов в строке. В качестве параметра в функцию передается строка, для которой надо найти длину:

- **LTRIM**: удаляет начальные пробелы из строки. В качестве параметра принимает строку:

- **RTRIM**: удаляет конечные пробелы из строки. В качестве параметра принимает строку:

- **TRIM**: удаляет начальные и конечные пробелы из строки. В качестве параметра принимает строку:

- **LOCATE(find, search [, start])**: возвращает позицию первого вхождения подстроки find в строку search. Дополнительный параметр start 
позволяет установить позицию в строке search, с которой начинается поиск подстроки find. Если подстрока search не найдена, то возвращается 0:

- **LEFT**: вырезает с начала строки определенное количество символов. Первый параметр функции - строка, а второй - количество символов, которые надо вырезать сначала строки:

- **RIGHT**: вырезает с конца строки определенное количество символов. Первый параметр функции - строка, а второй - количество символов, которые надо вырезать сначала строки:

- **SUBSTRING(str, start [, length])**: вырезает из строки str подстроку, начиная с позиции start. 
Третий необязательный параметр передает количество вырезаемых символов:

- **SUBSTRING_INDEX(str, delimiter, count)**: вырезает из строки str подстроку. Параметр delimiter определяет разделитель внутри строки. 
А параметр count определяет, до какого вхождения разделителя надо вырезать подстроку. Если count положительный, то подстрока вырезается с начала, если 
count отрицательный, то с конца строки str:

- **REPLACE(search, find, replace)**: заменяет в строке find подстроку search на подстроку replace. 
Первый параметр функции - строка, второй - подстрока, которую надо заменить, а третий - подстрока, на которую надо заменить:

- **INSERT(str, start, length, insert)**: вставляет в строку str, заменяя length символов с позиции start подстрокой insert. 
Первый параметр функции - строка, второй - позиция, с которой надо заменить, третий - сколько символов с позиции start надо заменить вставляемой подстрокой, 
четвертый параметр - вставляемая подстрока:

- **REVERSE**: переворачивает строку наоборот:

- **LOWER**: переводит строку в нижний регистр:

- **UPPER**: переводит строку в верхний регистр

- **SPACE**: возвращает строку, которая содержит определенное количество пробелов

- **REPEATE(str, count)**: возвращает строку, которая содержит определенное количество повторов подстроки str. Количество повторов задается 
через параметр count.

- **LPAD(str, length, pad)**: добавляет слева от строки str некоторое количество символов, которые определены в параметре pad. 
Количество добавляемых символов вычисляется по формуле `length - LENGTH(str)`. Если параметр length меньше длины строки str, то эта строка усекается до length 
символов.

- **RPAD(str, length, pad)**: добавляет справа от строки str некоторое количество символов, которые определены в параметре pad. 
Количество добавляемых символов вычисляется по формуле `length - LENGTH(str)`. Если параметр length меньше длины строки str, то эта строка усекается до length 
символов.

Например, возьмем таблицу:

```sql
CREATE TABLE Products
(
    Id INT AUTO_INCREMENT PRIMARY KEY,
    ProductName VARCHAR(30) NOT NULL,
    Manufacturer VARCHAR(20) NOT NULL,
    ProductCount INT DEFAULT 0,
    Price DECIMAL NOT NULL
);
```

И при извлечении данных применим строковые функции:

```sql
SELECT UPPER(LEFT(Manufacturer,2)) AS Abbreviation,
       CONCAT(ProductName, ' - ',  Manufacturer) AS FullProdName
FROM Products
ORDER BY Abbreviation
```

![Строковые функции в MySQL](https://metanit.com/sql/mysql/pics/8.1.png)

