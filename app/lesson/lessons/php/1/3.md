Загрузим пакет веб-сервера Apache с сайта [apachelounge.com](http://www.apachelounge.com/). Выберем последнюю версию сервера. На странице загрузок мы можем найти две версии пакета Apache - для 64-битных систем и для 32-битных.

![](https://metanit.com/web/php/pics/1.18.png)

Перед установкой Apache следует отметить, что если наша ОС Windows, то в системе должны быть установлен пакет для C++, который можно найти по адресу для [64-битной](https://go.microsoft.com/fwlink/?LinkId=746572) и для [32-битной](https://go.microsoft.com/fwlink/?LinkId=746571).

После загрузки пакета с Apache распакуем загруженный архив. В нем найдем папку непосредственно с файлами веб-сервера - каталог *Apache24*. Переместим данный каталог на диск C, чтобы полный путь к каталогу составлял **C:/Apache24**.

Теперь нам надо установить Apache в качестве службы Windows. Для этого запустим командную строку Windows от имени администратора и перейдем в каталог веб-сервера с помощью команды

```dos
cd C:\Apache24\bin
```

Далее установим Apache в качестве службы с помощью команды:

```dos
httpd.exe -k install
```

![](https://metanit.com/web/php/pics/1.16.png)

Если установка завершится удачно, то в командная строка отобразит сообщение "The Apache2.4 service is successfully installed". Также будет проведено тестирование сервера:

В моем случае, как отображено выше на картинке, Apache не смог подключиться к порту 80, который стоит по умолчанию в конфигурации, так как у меня порт 80 прослушивается другим веб-сервером - IIS. Это одна из распространенных проблем при запуске Apache. Чтобы ее решить, нам надо либо отключить службу IIS, либо указать для Apache новый порт. Я выберу второй путь.

После установки проведем конфигурацию сервера, чтобы связать его с ранее установленным интерпретатором PHP. Для этого в папке *C:\Apache24\conf* найдем файл **httpd.conf** и откроем его в текстовом редакторе.

Файл httpd.conf настраивает поведение веб-сервера. Мы не будем подобно затрагивать его описания, а только лишь произведем небольшие изменения, которые потребуются нам для работы с PHP.

Во-первых, найдем строку

```dos
Listen 80
```

Это строка указывает на прослушиваемый порт. По умолчанию 80-й порт. Если конфликтов с портами не возникает можно оставить так, как есть. Я же изменю на 8080 порт.

```dos
Listen 8080
```

Далее найдем строчку

```dos
#ServerName www.example.com:80
```

и изменим на

```dos
ServerName localhost:8080
```

Теперь подключим PHP. Для этого найдем в файле httpd.conf конец блока загрузки модулей *LoadModule*

```dos
//......................
#LoadModule watchdog_module modules/mod_watchdog.so
#LoadModule xml2enc_module modules/mod_xml2enc.so
```

И в конце этого блока добавим строчки

```dos
LoadModule php7_module "C:/php/php7apache2_4.dll"
PHPIniDir "C:/php"
```

Далее укажем место, где у нас будут храниться сайты. Для этого создадим, например, на диске С каталог *localhost*. Затем найдем в файле httpd.conf строку

```dos
DocumentRoot "c:/Apache24/htdocs"
<Directory "c:/Apache24/htdocs">
```

По умолчанию в качестве хранилища документов используется каталог "c:/Apache24/htdocs". Заменим эту строку на следующую:

```dos
DocumentRoot "c:/localhost"
<Directory "c:/localhost">
```

Изменим пути файлам, в которые будут заноситься сведения об ошибках или посещении сайта. Для этого найдем строку

```dos
ErrorLog "c:/localhost/error.log"
```

И заменим ее на

```dos
CustomLog "logs/access.log" common
```

Далее найдем строку

```dos
CustomLog "c:/localhost/access.log" common
```

И также найдем блок <IfModule mime_module> и добавим в него две строчки:

```dos
AddType application/x-httpd-php .php
AddType application/x-httpd-php-source .phps
```

И в конце найдем блок <IfModule dir_module>:

```dos
<IfModule dir_module>
    DirectoryIndex index.html
</IfModule>
```

И заменим его на следующий:

```dos
<IfModule dir_module>
    DirectoryIndex index.html index.htm index.shtml index.php
</IfModule>
```

Это минимально необходимая конфигурация, которая нужна для работы с PHP. Чтобы управлять сервером (запускать, останавливать, перезапускать), мы можем использовать утилиту, которая идет в комплекте - **ApacheMonitor.exe**. Данную утилиту можно найти в каталоге **C:\Apache24\bin**

![](https://metanit.com/web/php/pics/1.19.png)

Запустим утилиту. В трее появится значок ApacheMonitor. Нажмем на него и в появившемся контекстном меню выберем пункт Start.

![](https://metanit.com/web/php/pics/1.20.png)

Если у нас все настроено правильно, то должен запустить веб-сервер.

Теперь наша задача - убедиться, что php подключен и работает правильно. Для этого перейдем в папку *c:/localhost*, которую мы создали для хранения документов, и добавим в нее обычный текстовый файл. Переименуем его в **index.php** и внесем в него следующее содержание:

```php
<?php
phpinfo();
?>
```

В данном случае мы создали простейший скрипт, который выводит общую информацию о PHP. Теперь обратимся к этому скрипту, набрав в строке браузера адрес *http://localhost:8080/index.php*

![](https://metanit.com/web/php/pics/1.21.png)

Что тут произошло? При обращении к сайту на локальной машине в качестве адреса указывается *http://localhost*. Так как мы указали в качестве порта 8080, то также в адресе указывается через двоеточие порт. Если бы мы использовали 80-й порт, который используется по умолчанию, то его не надо было указывать.

Затем указывается имя ресурса, к которому идет обращение. В данном случае в качестве ресурса используется файл **index.php**. И так как в файле httpd.conf в качестве хранилища документов веб-сервера указан каталог *C:\localhost*, то именно в этом каталоге и будет веб-сервер будет производить поиск нужных файлов.

И поскольку выше при конфигурировании мы указали, что в качестве главной страницы может использоваться файл index.php, то мы можем также обратиться к этому ресурсу просто *http://localhost:8080/*

На этом установка и настройка веб-сервера Apache завершена, и мы можем создавать свои сайты.