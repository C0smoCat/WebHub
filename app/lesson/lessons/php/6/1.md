При создании программы на PHP и отдельных ее блоков нам вполне может хватить той функциональности, которую представляют функции. Однако PHP имеет и другие возможности по созданию программ, которые представляет объектно-ориентированное программирование. В ряде случаев программы, использующие ООП, проще в понимании, их легче поддерживать и изменять.

Ключевыми понятиями парадигмы ООП являются понятия "класс" и "объект". Описанием объекта является класс, а объект представляет экземпляр этого класса. Можно провести следующую аналогию: у всех есть некоторое представление о человеке - наличие двух рук, двух ног, головы, пищеварительной, нервной системы, головного мозга и т.д. Есть некоторый шаблон - этот шаблон можно назвать классом. А реально же существующий человек (фактически экземпляр данного класса) является объектом этого класса.

Для создания класса в PHP используется ключевое слово **class**. Например, новый класс, представляющий пользователя:

```php
class User
{}
```

Чтобы создать объект класса User, применяется ключевое слово **new**:

```php
<?php
class User
{ }
 
$user = new User;
print_r($user);
?>
```

В данном случае переменная `$user` является объектом класса User. С помощью функции `print_r()` можно вывести содержимое объекта, как и в случае с массивами.

## Свойства и методы

Класс может содержать свойства, которые описывают какие-то признаки объекта, и методы, которые определяют его поведение. Добавим в класс User несколько свойств и методов:

```php
<?php
class User
{
    public $name, $age;
     
    function getInfo()
    {
        echo "Имя: $this->name ; Возраст: $this->age <br>";
    }
}
 
$user = new User;
$user->name="Tom"; // установка свойства $name
$user->age=30; // установка свойства $age
$user->getInfo(); // вызов метода getInfo()
print_r($user);
?>
```

Здесь класс User содержит два свойства: `$name` и `$age`. Свойства объявляются как обычные переменные, перед которыми стоит модификатор доступа - в данном случае модификатор `public`.

Методы представляют обычные функции, которые выполняют определенные действия. Здесь функция `getInfo()` выводит содержание ранее определенных переменных.

Для обращения к текущему объекту из этого же класса используется выражение `$this` - оно и представляет текущий объект. Чтобы обратиться к свойствам и методам объекта применяется оператор доступа `->`. Например, чтобы получить значение свойства `$name`, надо использовать выражение `$this->name`. Причем при обращении к свойствам знак `$` не используется.

При использовании объекта класса User также применяется оператор доступа для получения или установки значения свойств, а также для вызова методов.

## Конструкторы и деструкторы

Конструкторы представляют специальные методы, которые выполняются при создании объекта и служат для начальной инициализации его свойств. Для создания конструктора надо объявить функцию с именем **__construct** (с двумя подчеркиваниями впереди):

```php
<?php
class User
{
    public $name, $age;
    function __construct($name, $age)
    {
        $this->name = $name;
        $this->age = $age;
    }
     
    function getInfo()
    {
        echo "Имя: $this->name ; Возраст: $this->age <br>";
    }
}
 
$user2 = new User("Джон", 33);
$user2->getInfo();
?>
```

Функция конструктора в данном случае принимает два параметра. Их значения передаются свойствам класса. И теперь чтобы создать объект, нам надо передать значения для соответствующих параметров: `$user2 = new User("Джон", 33);`

## Параметры по умолчанию

Чтобы сделать конструктор более гибким, мы можем обозначить один или несколько параметров в качестве необязательных. Тогда при создании объекта необязательно указывать все параметры. Например, изменим конструктор следующим образом:

```php
function __construct($name="Том", $age=33)
{
    $this->name = $name;
    $this->age = $age;
}
```

Таким образом, если не будут заданы параметры, вместо них будут использоваться значения "Том" и 33. И теперь мы можем создать объект User несколькими способами:

```php
$user1 = new User("Джон", 25);
$user1->getInfo();
$user2 = new User("Джек");
$user2->getInfo();
$user3 = new User();
$user3->getInfo();
```

## Деструкторы

Деструкторы служат для освобождения ресурсов, используемых программой - для освобождения открытых файлов, открытых подключений к базам данных и т.д. Деструктор объекта вызывается самим интерпретатором PHP после потери последней ссылки на данный объект в программе.

Деструктор определяется с помощью функции **__destruct** (два подчеркивания впереди):
```php
class User
{
    public $name, $age;
    function __construct($name, $age)
    {
        $this->name = $name;
        $this->age = $age;
    }
    function getInfo()
    {
        echo "Имя: $this->name ; Возраст: $this->age <br>";
    }
     
    function __destruct()
    {
        echo "Вызов деструктора";
    }
}
```

Функция деструктора определяется без параметров, и когда на объект не останется ссылок в программе, он будет уничтожен, и при этом будет вызван деструктор.