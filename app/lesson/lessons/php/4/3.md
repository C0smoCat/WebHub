## Сессии

Сессии представляют набор переменных, которые хранятся на сервере (либо часть на сервере, а часть - в cookie браузера) и которые относятся только к текущему пользователю. В какой-то степени сессии являются альтернативой кукам в плане сохранения данных о пользователе.

Для запуска сессии необходимо вызвать функцию session_start().

Затем для сохранения или получения данных в сессии надо использовать глобальный ассоциативный массив $_SESSION. Сохранение переменной в сессии:

```php
$_SESSION['имя_переменной'] = $переменная;
```

Получение сохраненного значения:

```php
$переменная = $_SESSION['имя_переменной'];
```

Запустим сессию и сохраним в ней значения:

```php
session_start();
$_SESSION['city'] = "Сингапур";
$_SESSION['lang'] = "китайский";
```

Теперь получим эти значения и выведем на страницу:

```php
if (isset($_SESSION['city']) && isset($_SESSION['lang']))
{
    $city = $_SESSION['city'];
    $language = $_SESSION['lang'];
    echo "Город: $city <br /> Язык: $language";
}
```

При запуске сессии, если пользователь первый раз заходит на сайт, PHP назначает ему уникальный идентификатор сессии. Этот идентификатор с помощью cookie сохраняется в браузере пользователя. С помощью специальных функций мы можем получить данный идентификатор:

```php
echo session_id(); // идентификатор сессии
echo session_name();  // имя - PHPSESSID
```

То же значение мы могли бы получить, обратившись к cookie напрямую:

```php
echo $_COOKIE['PHPSESSID'];
```

### Уничтожение сессии

Сессия уничтожается с закрытием браузера, однако мы также можем программно закрыть сессию с помощью функции **session_destroy()**:

```php
session_start();

$_SESSION = array();
// уничтожение куки с идентификатором сессии
if (session_id() != "" || isset($_COOKIE[session_name()]))
    setcookie(session_name(), '', time()-2592000, '/');
session_destroy();
```

При уничтожении сессии сначала массиву `$_SESSION` присваивается пустой массив, затем уничтожается связанные куки PHPSESSID и затем вызывается метод `session_destroy()`.


> Материал взят с сайта metanit.com