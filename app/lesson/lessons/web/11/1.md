# Canvas

## Доступ к canvas и рисование прямоугольников

Одним из нововведений HTML5 стал элемент Canvas и продвинутые возможности по работе и манипуляции графикой. С помощью canvas можно рисовать как простейшие графические примитивы - линии, фигуры, текст, так и создавать сложные графические игры. В дополнение canvas позволяет манипулировать изображениями и даже видео.



Определим на веб-странице элемент canvas:

```html
<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Canvas в HTML5</title>
    </head>
    <body>
        <canvas id="myCanvas" width="300" height="200">
            Ваш браузер не поддерживает Canvas
        </canvas>
    </body>
</html>
```

Раньше, когда стандарты HTML5 еще только начинали внедряться, обычным делом было определение внутри элемента canvas напдписи о том, что браузер не поддерживает данный элемент. И если веб-браузер не поддерживает canvas, то пользователю отображалась эта надпись. Однако в настоящее время, когда стандарты HTML5, особенно canvas повсеместно внедрены, подобные надписи уже используются скорее по инерции.

Также, как правило, для элемента canvas задаются ширина и высота с помощью атрибутов `width` и `height`. Если не указать эти атрибуты, то по умолчанию ширина будет составлять 300, а высота - 150 пикселей.

### Получение контекста рисования

Все рисование на canvas производится с помощью кода JavaScript. Чтобы начать рисовать на canvas, нам надо получить его контекст:

```js
var canvas = document.getElementById("myCanvas"), 
    context = canvas.getContext("2d");
```

Для получения контекста используется функция `getContext("2d")`. В данном случае мы получаем двухмерных контекст для создания двухмерной графики. Также контекст элемента canvas позволяет создавать трехмерную графику. Подробнее об этом можно почитать в руководстве по [WebGL](//metanit.com/web/webgl/). В данном же случае мы затронем только двухмерную графику.

### Рисование прямоугольников

И наконец нам остается собственно нарисовать первую фигуру. Для рисования простейших фигур - прямоугольников нам могут понадобиться три метода:
- `clearRect(x, y, w, h)`: очищает определенную прямоугольную область, верхний левый угол которой имеет координаты x и y, 
ширина равна w, а высота равна h
- `fillRect(x, y, w, h)`: заливает цветом прямоугольник, верхний леый угол которого имеет координаты x и y, 
ширина равна w, а высота равна h
- `strokeRect(x, y, w, h)`: рисует контур прямоугольника без заливки его каким-то определенным цветом

Теперь используем эти методы:

```html
<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Canvas в HTML5</title>
    </head>
    <body>
        <canvas id="myCanvas" width="350" height="200" 
                style="background-color:#eee; border: 1px solid #ccc;">
            Ваш браузер не поддерживает Canvas
        </canvas>
        <script>
            var canvas = document.getElementById("myCanvas"), 
                context = canvas.getContext("2d");
                
            context.strokeRect(50, 40, 100, 100);
            context.fillRect(200, 40, 100, 100);
        </script>
    </body>
</html>
```

![Элемент canvas в HTML5](https://metanit.com/web/html5/pics/6.1.png)

При рисовании в функции `strokeRect` и `fillRect` передаются координаты x и y верхнего левого угла прямоугольника относительно элемента canvas, а также ширина и высота прямоугольника. При этом началом координат считается верхний левый угол элемента canvas, ось X направлена вправо, а ось Y направлена вниз:

![Элемент canvas в HTML5](https://metanit.com/web/html5/pics/6.2.png)

В отличие от `strokeRect` и `fillRect` метод `clearRect` очищает определенную область, Фактически эта область приобретатет тот цвет, который у нее был бы, если бы к ней не применялись функции `strokeRect` и `fillRect`. Например:

```js
var canvas = document.getElementById("myCanvas"), 
    context = canvas.getContext("2d");

context.fillRect(50, 40, 100, 100);
context.clearRect(50, 40, 40, 40);
```

В данном случае очищается небольшая часть прмоугольника в левом верхнем углу:

![Метод clearRect в canvas в HTML5](https://metanit.com/web/html5/pics/6.30.png)


> Материал взят с сайта metanit.com