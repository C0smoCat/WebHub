## Однострочные и локальные функции

### Однострочные функции

Однострочные функции (single expression function) используют сокращенный синтаксис определения функции в виде одного выражения. Эта форма позволяет опустить возвращаемый тип и оператор return.

```kotlin
fun имя_функции (параметры_функции) = тело_функции
```

Функция также определяется с помощью ключевого слова **fun**, после которого идет имя функции и список параметров. Но после списка параметров не указывается возвращаемый тип. Возвращаемый тип будет выводится компилятором. Далее через оператор присвоения = определяется тело функции в виде одного выражения.

Например, функция возведения числа в квадрат:

```kotlin
fun double(x: Int) = x * x

fun main(args: Array<String>) {

    val a = double(5)   // 25
    val b = double(6)   // 36
    println("a=$a  b=$b")
}
```

В данном случае функция double возводит число в квадрат. Она состоит из одного выражения `x * x`. Значение этого выражения и будет возвращаться функцией. При этом оператор return не используется.

Такие функции более лаконичны, более читабельны, но также опционально можно и указывать возвращаемый тип явно:

```kotlin
fun double(x: Int) : Int = x * x
```

### Локальные функции

Одни функции могут быть определены внутри других функций. Внутренние или вложенные функции еще называют локальными.

Локальные функции могут определять действия, которые используются только в рамках какой-то конкретной функции и нигде больше не применяются.

Например, функция принимает на вход основание и высоту двух треугольников и должна вычислить, больше ли площадь первого треугольника, чем второго:

```kotlin
fun isFirstGreater(base1: Double, height1: Double, base2: Double, height2: Double): Boolean{

    fun square(base: Double, height: Double) = base * height / 2
    
    return square(base1, height1) > square(base2, height2)
}

fun main(args: Array<String>) {

    val a = isFirstGreater(10.0, 10.0, 20.0, 20.0)
    val b = isFirstGreater(20.0, 20.0, 10.0, 10.0)
    println("a=$a  b=$b")
}
```

Для промежуточных вычислений - вычисления площади каждого отдельного треугольника в функции isFirstGreater определена вспомогательная функция square. Больше в программе эта функция нигде не используется, поэтому ее можно сделать локальной.

При этом локальная может использоваться только в той функции, где она определена.


> Материал взят с сайта metanit.com