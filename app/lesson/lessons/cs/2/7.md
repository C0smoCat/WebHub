## Поразрядные операции

Особый класс операций представляют поразрядные операции. Они выполняются над отдельными разрядами числа. В этом плане числа рассматриваются в двоичном представлении, например, 2 в двоичном представлении 10 и имеет два разряда, число 7 - 111 и имеет три разряда.

### Логические операции

- **&**(логическое умножение)

- **|** (логическое сложение)

- **^** (логическое исключающее ИЛИ)

- **~** (логическое отрицание или инверсия)

### Представление отрицательных чисел

Для записи чисел со знаком в C# применяется **дополнительный код** (two’s complement), при котором старший разряд является знаковым. Если его значение равно 0, то число положительное, и его двоичное представление не отличается от представления беззнакового числа. Например, 0000 0001 в десятичной системе 1.

Если старший разряд равен 1, то мы имеем дело с отрицательным числом. Например, 1111 1111 в десятичной системе представляет -1. Соответственно, 1111 0011 представляет -13.

Чтобы получить из положительного числа отрицательное, его нужно инвертировать и прибавить единицу:

```cs
int x = 12;
int y = ~x;
y += 1;
Console.WriteLine(y);    // -12
```

![Two complement in C#](https://metanit.com/sharp/tutorial/./pics/twoscomplement.png)

### Операции сдвига

Операции сдвига также производятся над разрядами чисел. Сдвиг может происходить вправо и влево.

- `x<<y` - сдвигает число x влево на y разрядов. Например, `4<<1` сдвигает число 4 (которое в двоичном 
представлении 100) на один разряд влево, то есть в итоге получается 1000 или число 8 в десятичном представлении.

- `x>>y` - сдвигает число x вправо на y разрядов. Например, `16>>1` сдвигает число 16 
(которое в двоичном представлении 10000) на один разряд вправо, то есть в итоге получается 1000 или число 8 в десятичном представлении.

Таким образом, если исходное число, которое надо сдвинуть в ту или другую строну, делится на два, то фактически получается умножение или деление на два. Поэтому подобную операцию можно использовать вместо непосредственного умножения или деления на два.


> Материал взят с сайта metanit.com